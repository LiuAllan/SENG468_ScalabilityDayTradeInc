CREATE TABLE Users (user_id SERIAL NOT NULL PRIMARY KEY, first_name VARCHAR(30) NOT NULL, last_name VARCHAR(30) NOT NULL, account_num INTEGER	NOT NULL, username VARCHAR(20) UNIQUE NOT NULL, password VARCHAR(30) NOT NULL, created TIMESTAMP NOT NULL DEFAULT NOW(), UNIQUE(username));
CREATE TABLE Companies (company_id SERIAL NOT NULL PRIMARY KEY, company_name VARCHAR(10) UNIQUE NOT NULL);
CREATE TABLE Transactions (transaction_id SERIAL NOT NULL PRIMARY KEY, user_id INTEGER NOT NULL REFERENCES Users (user_id), type_of VARCHAR(20) NOT NULL, transaction_time TIMESTAMP NOT NULL DEFAULT NOW());
CREATE TABLE audittrail(audit_id SERIAL NOT NULL PRIMARY KEY, tr_time TIMESTAMP, user_id INTEGER NOT NULL REFERENCES Users (user_id), tr_type VARCHAR(20));
CREATE FUNCTION create_user(first_name VARCHAR(30), last_name VARCHAR(30), account_num INTEGER, _username VARCHAR(20), password VARCHAR(30)) RETURNS void LANGUAGE plpgsql as $$ BEGIN INSERT INTO Users (first_name, last_name, account_num, username, password) VALUES (first_name, last_name, account_num, _username, password);END;$$;